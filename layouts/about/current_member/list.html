{{ define "main" }}
<article class="current-members-page">
  <h1>{{ .Title }}</h1>

  {{/* load your data from data/current_members.yaml */}}
  {{ $data := .Site.Data.current_members }}

  {{/* render each non-empty category */}}
  {{ range $section, $members := dict
        "Principal Investigator (PI)"                    $data.pi
        "Ph.D. Students"          $data.phd_students
        "Master Students"       $data.master_students
        "Undergraduate Students" $data.undergraduate_students }}
    {{ if $members }}
      <section class="member-section">
        <h2>{{ $section }}</h2>
        <div class="member-grid">
          {{ range $members }}
            {{ partial "member-card.html" . }}
          {{ end }}
        </div>
      </section>
    {{ end }}
  {{ end }}
</article>
{{ end }}
