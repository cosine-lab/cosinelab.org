document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector("nav.menu");if(!t)return;const e=t.querySelectorAll(".menu__item--parent");function i(){e.forEach(e=>{const t=e.querySelector("> .menu__link"),s=e.querySelector("> .menu__sublist");if(!t||!s)return;t.removeEventListener("click",n),t.addEventListener("click",n)})}function n(t){if(window.innerWidth>767)return;const n=this.closest(".menu__item--parent");if(!n)return;t.preventDefault();const s=n.classList.contains("menu__item--expanded");e.forEach(e=>{e.classList.remove("menu__item--expanded")}),s||n.classList.add("menu__item--expanded")}document.addEventListener("click",function(n){if(window.innerWidth>767)return;t.contains(n.target)||e.forEach(e=>{e.classList.remove("menu__item--expanded")})});function s(){window.innerWidth<=767?i():e.forEach(e=>{e.classList.remove("menu__item--expanded")})}s();let o;window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(s,250)})})